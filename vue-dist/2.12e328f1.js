(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{46:function(t,n,o){},47:function(t,n,o){"use strict";var e=o(46);o.n(e).a},48:function(t,n,o){"use strict";o.r(n);var e=o(5),s=o.n(e),r=o(11),a=o.n(r),c={name:"Detail",components:{},data:function(){return{bookId:"",bookInfo:{},authorDetail:{},publishBooks:[]}},created:function(){this.fetchDetailInfo()},methods:{getFetch:function(t,n){return a()(s.a.mark((function n(){var o;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(t);case 2:return o=n.sent,n.next=5,o.json();case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})))()},postFetch:function(t,n){return a()(s.a.mark((function o(){var e;return s.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,fetch(t,{body:JSON.stringify(n),headers:{"content-type":"application/json"},method:"POST"});case 2:return e=o.sent,o.next=5,e.json();case 5:return o.abrupt("return",o.sent);case 6:case"end":return o.stop()}}),o)})))()},fetchDetailInfo:function(){var t=this;return a()(s.a.mark((function n(){var o,e,r,a,c,i,u;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.bookId=t.$route.params.id,n.next=3,t.getFetch("/fetchBookInfoById?id=".concat(t.bookId));case 3:return o=n.sent,e=o.bookInfo,console.log("bookInfo",e),t.bookInfo=e,r=e.author,n.next=10,t.getFetch("/fetchAuthorInfoByName?name=".concat(r));case 10:return a=n.sent,c=a.authorInfo,console.log("authorInfo",c),n.next=15,t.postFetch("/fetchBookList",{names:c.books});case 15:i=n.sent,u=i.bookList,console.log("bookList",u),t.publishBooks=u;case 19:case"end":return n.stop()}}),n)})))()}}},i=(o(47),o(6)),u=Object(i.a)(c,(function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("div",{staticClass:"book-info"},[o("div",{staticClass:"book-detail"},[o("img",{attrs:{alt:"",src:t.bookInfo.img,width:"260"}}),t._v(" "),o("p",[t._v(t._s(t.bookInfo.name))]),t._v(" "),t.bookInfo.isbn?o("p",[t._v("isbn: "+t._s(t.bookInfo.isbn))]):t._e()]),t._v(" "),o("div",{staticClass:"author-detail"},[o("p",[t._v("作者："+t._s(t.bookInfo.author))]),t._v(" "),o("p",[t._v("出版书籍：")]),t._v(" "),o("div",{staticClass:"publish-books"},t._l(t.publishBooks,(function(n,e){return o("div",{key:e,staticClass:"book-item"},[o("img",{attrs:{alt:"",src:n.img,height:"60"}}),t._v(" "),o("p",[t._v(t._s(n.name))]),t._v(" "),n.isbn?o("p",[t._v("isbn: "+t._s(n.isbn))]):t._e()])})),0)])])}),[],!1,null,"62142062",null);n.default=u.exports}}]);